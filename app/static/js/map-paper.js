"use strict";function renderMap(e){for(e.locations.forEach(function(e){e.point=getPoint(city);var n=(new Path.Circle({center:e.point,radius:5,fillColor:"black"}),new PointText(e.point));n.justification="center",n.fillColor="red",n.content=e.name}),i=0;i<e.connections.length;i++){var n=e.connections[i],t=new Path;t.strokeColor="black",t.moveTo(locations[n.city1].point),t.lineTo(locations[n.city2].point)}mapLayer.position=new Point(240,150)}function getPoint(e){var n=155;return new Point((parseFloat(e.longitude)+107)*n*.8,(parseFloat(e.latitude)-37)*-n)}function changeZoom(e,n,t,o){var i=1.05,a=e;return n>0&&(a*=i),n<0&&(a/=i),a}function changeCenter(e,n,t,o){var i;return i=new Point(n,(-t)),i=i.multiply(o),e.add(i)}function onMouseDrag(e){mapLayer.position+=e.delta}var myData,mapObj={},mapLayer=new Layer,i;$.get("/map",function(e){renderMap(e)}),$("#mapCanvas").bind("mousewheel",function(e){var n=e.originalEvent.wheelDeltaX,t=e.originalEvent.wheelDeltaY;if(e.shiftKey)view.center=changeCenter(view.center,n,t,1),e.preventDefault();else if(e.altKey){var o=new Point(e.offsetX,e.offsetY),i=changeZoom(view.zoom,t,view.center,o);view.zoom=i,e.preventDefault()}});
<!DOCTYPE html>
<div class="row" ng-if="$ctrl.loaded" ng-class="{blur: $ctrl.error}">
  <div id="ui-state-news" ng-show="$ctrl.state.tab === 'news'">
    <div class="col-md-6">
      <location-header location="$ctrl.currentLocation"></location-header>
    </div>
  </div>
  <div id="ui-state-location" ng-show="$ctrl.state.tab === 'default' || $ctrl.state.tab === 'location'">
    <div class="col-md-6">
      <location-details ng-if="!$ctrl.traveling" location="$ctrl.currentLocation"></location-details>
    </div>
    <div class="col-md-6">
      <div ng-show="$ctrl.state.loc === 'rumor'">
        Rumors
      </div>
      <game-cargo goods="$ctrl.currentLocation.goods"></game-cargo>
      <div ng-show="$ctrl.state.loc === 'service'">
        Service Station
      </div>
      <div ng-show="$ctrl.state.loc === 'equip'">
        Equipment and Weapons
      </div>
      <div ng-show="$ctrl.state.loc === 'garage'">
        Chop Shop
      </div>
      <div ng-show="$ctrl.state.loc === 'mission'">
        Mission Board
      </div>
    </div>
  </div>
  <div id="ui-state-travel" ng-show="$ctrl.state.tab === 'travel'">
    <div class="col-md-6">
      <div ng-if="!$ctrl.traveling">
        <location-header location="$ctrl.currentLocation"></location-header>
        <destination-list location="$ctrl.currentLocation" traveling="$ctrl.traveling" working="$ctrl.working" trip="$ctrl.trip" error="$ctrl.error"></destination-list>
      </div>
    </div>
    <div class="col-md-6">
      <apox-map location="$ctrl.currentLocation"></apox-map>
      <trip-progress ng-if="$ctrl.traveling" trip="$ctrl.trip "></trip-progress>
    </div>
  </div>
  <div id="ui-state-driver" ng-show="$ctrl.state.tab === 'driver'">
    <div class="col-md-6">
      <driver-info driver="$ctrl.driver"></driver-info>
    </div>
  </div>
  <div id="ui-state-news" ng-show="$ctrl.state.tab === 'vehicle'">
    <div class="col-md-6">
      <vehicle-info vehicle="$ctrl.driver.vehicle"></vehicle-info>
    </div>
  </div>
  <div id="ui-state-account" ng-show="$ctrl.state.tab === 'account'">
    <div class="col-md-8 col-md-offset-2">
      <user-account></user-account>
    </div>
  </div>
</div>
<chat-box></chat-box>
<div class="error-modal" ng-if="$ctrl.error ">{{$ctrl.error}}</div>
